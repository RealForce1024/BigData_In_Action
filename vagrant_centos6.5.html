<!DOCTYPE html><html><head><title>vagrant centos6.5</title><meta charset='utf-8'><link href='https://dn-maxiang.qbox.me/res-min/themes/marxico.css' rel='stylesheet'><style></style></head><body><div id='preview-contents' class='note-content'>
                        <div id="wmd-preview" class="preview-content"></div>
                    <div id="wmd-preview-section-6489" class="wmd-preview-section preview-content">

</div><div id="wmd-preview-section-6490" class="wmd-preview-section preview-content">

<h1 id="vagrant-centos65">vagrant centos6.5</h1>

<div><div class="toc"><div class="toc">
<ul>
<li><a href="#vagrant-centos65">vagrant centos6.5</a><ul>
<li><a href="#vagrant-init">vagrant init</a></li>
<li><a href="#vagrant-up-provider-xx">vagrant up –provider xx</a></li>
<li><a href="#修改配置文件-变成集群">修改配置文件 变成集群</a></li>
<li><a href="#vagrant-reload">vagrant reload</a></li>
<li><a href="#创建vm并启动">创建Vm，并启动</a></li>
<li><a href="#vagrant-help">vagrant - -help</a></li>
<li><a href="#ping-nodexx">ping nodexx</a></li>
<li><a href="#增加节点">增加节点</a></li>
<li><a href="#vagrant-up-启动装载node03">vagrant up  启动装载node03</a><ul>
<li><a href="#外网网络连通">外网网络连通</a></li>
<li><a href="#宿主机网络连通">宿主机网络连通</a></li>
</ul>
</li>
<li><a href="#发现-vagrant-自动生成了配置">发现 vagrant 自动生成了配置</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>

<ol><li rel="1">mkdir centos6-va</li>
<li rel="2">vagrant init nrel/CentOS-6.5-x86_64  //生成Vagrantfile</li>
<li rel="3">vagrant up –provider virtualbox //下载安装centos6.5 使用virtulbox <br>
官网 <a href="https://atlas.hashicorp.com/nrel/boxes/CentOS-6.5-x86_64" target="_blank">https://atlas.hashicorp.com/nrel/boxes/CentOS-6.5-x86_64</a></li>
</ol>

</div><div id="wmd-preview-section-6491" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs cpp">☁  centos6-va  vagrant --version<br>Vagrant <span class="hljs-number">1.8</span><span class="hljs-number">.1</span><br></code></pre>

</div><div id="wmd-preview-section-6492" class="wmd-preview-section preview-content">

<h2 id="vagrant-init">vagrant init</h2>

</div><div id="wmd-preview-section-6493" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs livecodeserver">☁ centos6-va  vagrant init nrel/CentOS-<span class="hljs-number">6.5</span>-x86_64<br>A `Vagrantfile` has been placed <span class="hljs-operator">in</span> this <span class="hljs-built_in">directory</span>. You are now<br>ready <span class="hljs-built_in">to</span> `vagrant up` your <span class="hljs-keyword">first</span> virtual environment! Please <span class="hljs-built_in">read</span><br><span class="hljs-operator">the</span> comments <span class="hljs-operator">in</span> <span class="hljs-operator">the</span> Vagrantfile <span class="hljs-keyword">as</span> well <span class="hljs-keyword">as</span> documentation <span class="hljs-command"><span class="hljs-keyword">on</span></span><br>`vagrantup.com` <span class="hljs-keyword">for</span> more information <span class="hljs-command"><span class="hljs-keyword">on</span> <span class="hljs-title">using</span> <span class="hljs-title">Vagrant</span>.</span><br>☁  centos6-va  ll<br>total <span class="hljs-number">8</span><br>-rw-r<span class="hljs-comment">--r--  1 fqc  staff   3.0K May 18 09:51 Vagrantfile</span><br></code></pre>

</div><div id="wmd-preview-section-6494" class="wmd-preview-section preview-content">

<h2 id="vagrant-up-provider-xx">vagrant up –provider xx</h2>

</div><div id="wmd-preview-section-6495" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs haskell">☁  centos6-va  vagrant up <span class="hljs-comment">--provider virtualbox</span><br><span class="hljs-type">Bringing</span> machine '<span class="hljs-default"><span class="hljs-keyword">default</span>' up with 'virtualbox' provider...</span><br>==&gt; <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Box</span> 'nrel/<span class="hljs-type">CentOS</span>-6.5-x86_64' could not be found. <span class="hljs-type">Attempting</span> to find and install...</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Box</span> <span class="hljs-type">Provider</span>: virtualbox</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Box</span> <span class="hljs-type">Version</span>: &gt;= 0</span><br>==&gt; <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Loading</span> metadata for box 'nrel/<span class="hljs-type">CentOS</span>-6.5-x86_64'</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">URL</span>: https://atlas.hashicorp.com/nrel/<span class="hljs-type">CentOS</span>-6.5-x86_64</span><br>==&gt; <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Adding</span> box 'nrel/<span class="hljs-type">CentOS</span>-6.5-x86_64' <span class="hljs-container">(<span class="hljs-title">v1</span>.2.0)</span> for provider: virtualbox</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Downloading</span>: https://atlas.hashicorp.com/nrel/boxes/<span class="hljs-type">CentOS</span>-6.5-x86_64/versions/1.2.0/providers/virtualbox.box</span><br>==&gt; <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Successfully</span> added box 'nrel/<span class="hljs-type">CentOS</span>-6.5-x86_64' <span class="hljs-container">(<span class="hljs-title">v1</span>.2.0)</span> for 'virtualbox'!</span><br>==&gt; <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Importing</span> base box 'nrel/<span class="hljs-type">CentOS</span>-6.5-x86_64'...</span><br>==&gt; <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Matching</span> <span class="hljs-type">MAC</span> address for <span class="hljs-type">NAT</span> networking...</span><br>==&gt; <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Checking</span> if box 'nrel/<span class="hljs-type">CentOS</span>-6.5-x86_64' is up to date...</span><br>==&gt; <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Setting</span> the name of the <span class="hljs-type">VM</span>: centos6-va_default_1463536509945_5938</span><br>==&gt; <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Clearing</span> any previously set network interfaces...</span><br>==&gt; <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Preparing</span> network interfaces based on configuration...</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Adapter</span> 1: nat</span><br>==&gt; <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Forwarding</span> ports...</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: 22 <span class="hljs-container">(<span class="hljs-title">guest</span>)</span> =&gt; 2222 <span class="hljs-container">(<span class="hljs-title">host</span>)</span> <span class="hljs-container">(<span class="hljs-title">adapter</span> 1)</span></span><br>==&gt; <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Booting</span> <span class="hljs-type">VM</span>...</span><br>==&gt; <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Waiting</span> for machine to boot. <span class="hljs-type">This</span> may take a few minutes...</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">SSH</span> address: 127.0.0.1:2222</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">SSH</span> username: vagrant</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">SSH</span> auth method: private key</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Warning</span>: <span class="hljs-type">Remote</span> connection disconnect. <span class="hljs-type">Retrying</span>...</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Warning</span>: <span class="hljs-type">Remote</span> connection disconnect. <span class="hljs-type">Retrying</span>...</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>:</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Vagrant</span> insecure key detected. <span class="hljs-type">Vagrant</span> will automatically replace</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: this with a newly generated keypair for better security.</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>:</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Inserting</span> generated public key within guest...</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Removing</span> insecure key from the guest if it's present...</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Key</span> inserted! <span class="hljs-type">Disconnecting</span> and reconnecting using new <span class="hljs-type">SSH</span> key...</span><br>==&gt; <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Machine</span> booted and ready!</span><br>==&gt; <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Checking</span> for guest additions in <span class="hljs-type">VM</span>...</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">The</span> guest additions on this <span class="hljs-type">VM</span> do not match the installed version of</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">VirtualBox</span>! <span class="hljs-type">In</span> most cases this is fine, but in rare cases it can</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: prevent things such as shared folders from working properly. <span class="hljs-type">If</span> you see</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: shared folder errors, please make sure the guest additions within the</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: virtual machine match the version of <span class="hljs-type">VirtualBox</span> you have installed on</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: your host and reload your <span class="hljs-type">VM</span>.</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>:</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Guest</span> <span class="hljs-type">Additions</span> <span class="hljs-type">Version</span>: 4.3.10</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">VirtualBox</span> <span class="hljs-type">Version</span>: 5.0</span><br>==&gt; <span class="hljs-default"><span class="hljs-keyword">default</span>: <span class="hljs-type">Mounting</span> shared folders...</span><br>    <span class="hljs-default"><span class="hljs-keyword">default</span>: /vagrant =&gt; /<span class="hljs-type">Users</span>/fqc/centos6-va</span><br>☁  centos6-va<br></code></pre>

</div><div id="wmd-preview-section-6496" class="wmd-preview-section preview-content">

<h2 id="修改配置文件-变成集群">修改配置文件 变成集群</h2>

</div><div id="wmd-preview-section-6497" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs elixir"><span class="hljs-comment"># -*- mode: ruby -*-</span><br><span class="hljs-comment"># vi: set ft=ruby :</span><br><br><span class="hljs-comment"># All Vagrant configuration is done below. The "2" in Vagrant.configure</span><br><span class="hljs-comment"># configures the configuration version (we support older styles for</span><br><span class="hljs-comment"># backwards compatibility). Please don't change it unless you know what</span><br><span class="hljs-comment"># you're doing.</span><br><span class="hljs-constant">Vagrant.</span>configure(<span class="hljs-number">2</span>) <span class="hljs-keyword">do</span> |config|<br>  <span class="hljs-comment"># The most common configuration options are documented and commented below.</span><br>  <span class="hljs-comment"># For a complete reference, please see the online documentation at</span><br>  <span class="hljs-comment"># https://docs.vagrantup.com.</span><br><br>  <span class="hljs-comment"># Every Vagrant development environment requires a box. You can search for</span><br>  <span class="hljs-comment"># boxes at https://atlas.hashicorp.com/search.</span><br>  config.vm.box = <span class="hljs-string">"nrel/CentOS-6.5-x86_64"</span><br><br>  config.vm.provision <span class="hljs-string">"shell"</span>, <span class="hljs-symbol">inline:</span> <span class="hljs-string">"echo Hello"</span><br><br>  config.vm.define <span class="hljs-string">"node01"</span> <span class="hljs-keyword">do</span> |node01_config|<br>      <span class="hljs-comment"># node01_config.vm.customize ["modifyvm", :id, "--name", "node01", "--memory", "512"]</span><br>      node01_config.vm.provider <span class="hljs-symbol">:virtualbox</span> <span class="hljs-keyword">do</span> |vb|<br>          vb.customize [<span class="hljs-string">'modifyvm'</span>, <span class="hljs-symbol">:id</span>,<span class="hljs-string">"--name"</span>, <span class="hljs-string">"node01"</span>,<span class="hljs-string">'--memory'</span>, <span class="hljs-string">'2048'</span>]<br>        <span class="hljs-keyword">end</span><br>      <span class="hljs-comment"># node01_config.vm.box = "centos/7"</span><br>      node01_config.vm.host_name = <span class="hljs-string">"node01"</span><br>      node01_config.vm.network <span class="hljs-string">"private_network"</span>, <span class="hljs-symbol">ip:</span> <span class="hljs-string">"192.168.33.21"</span><br>  <span class="hljs-keyword">end</span><br>  config.vm.define <span class="hljs-string">"node02"</span> <span class="hljs-keyword">do</span> |node02_config|<br>    <span class="hljs-comment"># node02_config.vm.customize ["modifyvm", :id, "--name", "node02", "--memory", "512"]</span><br>    node02_config.vm.provider <span class="hljs-symbol">:virtualbox</span> <span class="hljs-keyword">do</span> |vb|<br>          vb.customize [<span class="hljs-string">'modifyvm'</span>, <span class="hljs-symbol">:id</span>,<span class="hljs-string">"--name"</span>, <span class="hljs-string">"node02"</span>,<span class="hljs-string">'--memory'</span>, <span class="hljs-string">'2048'</span>]<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-comment"># node02_config.vm.box = "centos/7"</span><br>    node02_config.vm.host_name = <span class="hljs-string">"node02"</span><br>    node02_config.vm.network <span class="hljs-string">"private_network"</span>, <span class="hljs-symbol">ip:</span> <span class="hljs-string">"192.168.33.22"</span><br>  <span class="hljs-keyword">end</span><br><br><br><br>  <span class="hljs-comment"># Disable automatic box update checking. If you disable this, then</span><br>  <span class="hljs-comment"># boxes will only be checked for updates when the user runs</span><br>  <span class="hljs-comment"># `vagrant box outdated`. This is not recommended.</span><br>  <span class="hljs-comment"># config.vm.box_check_update = false</span><br><br>  <span class="hljs-comment"># Create a forwarded port mapping which allows access to a specific port</span><br>  <span class="hljs-comment"># within the machine from a port on the host machine. In the example below,</span><br>  <span class="hljs-comment"># accessing "localhost:8080" will access port 80 on the guest machine.</span><br>  <span class="hljs-comment"># config.vm.network "forwarded_port", guest: 80, host: 8080</span><br><br>  <span class="hljs-comment"># Create a private network, which allows host-only access to the machine</span><br>  <span class="hljs-comment"># using a specific IP.</span><br>  <span class="hljs-comment"># config.vm.network "private_network", ip: "192.168.33.10"</span><br><br>  <span class="hljs-comment"># Create a public network, which generally matched to bridged network.</span><br>  <span class="hljs-comment"># Bridged networks make the machine appear as another physical device on</span><br>  <span class="hljs-comment"># your network.</span><br>  <span class="hljs-comment"># config.vm.network "public_network"</span><br><br>  <span class="hljs-comment"># Share an additional folder to the guest VM. The first argument is</span><br>  <span class="hljs-comment"># the path on the host to the actual folder. The second argument is</span><br>  <span class="hljs-comment"># the path on the guest to mount the folder. And the optional third</span><br>  <span class="hljs-comment"># argument is a set of non-required options.</span><br>  <span class="hljs-comment"># config.vm.synced_folder "../data", "/vagrant_data"</span><br><br>  <span class="hljs-comment"># Provider-specific configuration so you can fine-tune various</span><br>  <span class="hljs-comment"># backing providers for Vagrant. These expose provider-specific options.</span><br>  <span class="hljs-comment"># Example for VirtualBox:</span><br>  <span class="hljs-comment">#</span><br>  <span class="hljs-comment"># config.vm.provider "virtualbox" do |vb|</span><br>  <span class="hljs-comment">#   # Display the VirtualBox GUI when booting the machine</span><br>  <span class="hljs-comment">#   vb.gui = true</span><br>  <span class="hljs-comment">#</span><br>  <span class="hljs-comment">#   # Customize the amount of memory on the VM:</span><br>  <span class="hljs-comment">#   vb.memory = "1024"</span><br>  <span class="hljs-comment"># end</span><br>  <span class="hljs-comment">#</span><br>  <span class="hljs-comment"># View the documentation for the provider you are using for more</span><br>  <span class="hljs-comment"># information on available options.</span><br><br>  <span class="hljs-comment"># Define a Vagrant Push strategy for pushing to Atlas. Other push strategies</span><br>  <span class="hljs-comment"># such as FTP and Heroku are also available. See the documentation at</span><br>  <span class="hljs-comment"># https://docs.vagrantup.com/v2/push/atlas.html for more information.</span><br>  <span class="hljs-comment"># config.push.define "atlas" do |push|</span><br>  <span class="hljs-comment">#   push.app = "YOUR_ATLAS_USERNAME/YOUR_APPLICATION_NAME"</span><br>  <span class="hljs-comment"># end</span><br><br>  <span class="hljs-comment"># Enable provisioning with a shell script. Additional provisioners such as</span><br>  <span class="hljs-comment"># Puppet, Chef, Ansible, Salt, and Docker are also available. Please see the</span><br>  <span class="hljs-comment"># documentation for more information about their specific syntax and use.</span><br>  <span class="hljs-comment"># config.vm.provision "shell", inline: &lt;&lt;-SHELL</span><br>  <span class="hljs-comment">#   sudo apt-get update</span><br>  <span class="hljs-comment">#   sudo apt-get install -y apache2</span><br>  <span class="hljs-comment"># SHELL</span><br><span class="hljs-keyword">end</span><br><br></code></pre>

<p>注意先重新加载配置文件</p>

</div><div id="wmd-preview-section-6498" class="wmd-preview-section preview-content">

<h2 id="vagrant-reload">vagrant reload</h2>

</div><div id="wmd-preview-section-6499" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs crmsh">☁  centos6-va  vagrant reload<br>There is a syntax error <span class="hljs-operator">in</span> the following Vagrantfile. The syntax error<br>message is reproduced below for convenience:<br><br>/Users/fqc/centos6-va/Vagrantfile:<span class="hljs-number">19</span>: syntax error, unexpected '-', expecting '|'<br>  config.vm.define <span class="hljs-string">"node-01"</span> do |<span class="hljs-keyword">node</span><span class="hljs-identifier"></span><span class="hljs-title">-01_config</span>|<br>                                      ^<br>......<br>/Users/fqc/centos6-va/Vagrantfile:<span class="hljs-number">28</span>: syntax error, unexpected '-', expecting '|'<br>  config.vm.define <span class="hljs-string">"node-02"</span> do |<span class="hljs-keyword">node</span><span class="hljs-identifier"></span><span class="hljs-title">-02_config</span>|<br>                                      ^<br>/Users/fqc/centos6-va/Vagrantfile:<span class="hljs-number">28</span>: trailing `_' <span class="hljs-operator">in</span> <span class="hljs-type">number</span><br>  config.vm.define <span class="hljs-string">"node-02"</span> do |<span class="hljs-keyword">node</span><span class="hljs-identifier"></span><span class="hljs-title">-02_config</span>|<br>                                         ^<br></code></pre>

<p>上面的配置 node-02_xx  <code>-</code> 不要这样命名</p>

</div><div id="wmd-preview-section-6500" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs haml">☁  centos6-va  vagrant reload<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">VM</span> not created. <span class="hljs-constant">Moving</span> on...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">VM</span> not created. <span class="hljs-constant">Moving</span> on...</span><br></code></pre>

<p>发现反馈信息 <code>Vm not created ...</code></p>

</div><div id="wmd-preview-section-6501" class="wmd-preview-section preview-content">

<h2 id="创建vm并启动">创建Vm，并启动</h2>

</div><div id="wmd-preview-section-6502" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs haml">☁  centos6-va  vagrant reload<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">VM</span> not created. <span class="hljs-constant">Moving</span> on...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">VM</span> not created. <span class="hljs-constant">Moving</span> on...<br></span>☁  centos6-va<br>☁  centos6-va  ll<br>total 8<br>-<span class="ruby">rw-r--r--  <span class="hljs-number">1</span> fqc  staff   <span class="hljs-number">3.9</span>K <span class="hljs-constant">May</span> <span class="hljs-number">18</span> <span class="hljs-number">10</span><span class="hljs-symbol">:</span>09 <span class="hljs-constant">Vagrantfile</span><br></span>☁  centos6-va  ping 192.168.33.21<br>PING 192.168.33.21 (192.168.33.21): 56 data bytes<br>Request timeout for icmp_seq 0<br>Request timeout for icmp_seq 1<br>^C<br>-<span class="ruby">-- <span class="hljs-number">192.168</span>.<span class="hljs-number">33.21</span> ping statistics ---<br></span>3 packets transmitted, 0 packets received, 100.0% packet loss<br>☁  centos6-va  vagrant reload<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">VM</span> not created. <span class="hljs-constant">Moving</span> on...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">VM</span> not created. <span class="hljs-constant">Moving</span> on...<br></span>☁  centos6-va  vagrant up<br>Bringing machine 'node01' up with 'virtualbox' provider...<br>Bringing machine 'node02' up with 'virtualbox' provider...<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Importing</span> base box <span class="hljs-string">'nrel/CentOS-6.5-x86_64'</span>...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Matching</span> <span class="hljs-constant">MAC</span> address for <span class="hljs-constant">NAT</span> networking...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Checking</span> if box <span class="hljs-string">'nrel/CentOS-6.5-x86_64'</span> is up to date...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Setting</span> the name of the <span class="hljs-constant">VM</span><span class="hljs-symbol">:</span> centos6-va_node01_1463537812559_58817<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Fixed</span> port collision for <span class="hljs-number">22</span> =&gt; <span class="hljs-number">2222</span>. <span class="hljs-constant">Now</span> on port <span class="hljs-number">2200</span>.<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Clearing</span> any previously set network interfaces...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Preparing</span> network interfaces based on configuration...<br></span>    node01: Adapter 1: nat<br>    node01: Adapter 2: hostonly<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Forwarding</span> ports...<br></span>    node01: 22 (guest) =&gt; 2200 (host) (adapter 1)<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Running</span> <span class="hljs-string">'pre-boot'</span> <span class="hljs-constant">VM</span> customizations...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Booting</span> <span class="hljs-constant">VM</span>...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Waiting</span> for machine to boot. <span class="hljs-constant">This</span> may take a few minutes...<br></span>    node01: SSH address: 127.0.0.1:2200<br>    node01: SSH username: vagrant<br>    node01: SSH auth method: private key<br>    node01: Warning: Remote connection disconnect. Retrying...<br>    node01: Warning: Remote connection disconnect. Retrying...<br>    node01:<br>    node01: Vagrant insecure key detected. Vagrant will automatically replace<br>    node01: this with a newly generated keypair for better security.<br>    node01:<br>    node01: Inserting generated public key within guest...<br>    node01: Removing insecure key from the guest if it's present...<br>    node01: Key inserted! Disconnecting and reconnecting using new SSH key...<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Machine</span> booted and ready!<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Checking</span> for guest additions in <span class="hljs-constant">VM</span>...<br></span>    node01: The guest additions on this VM do not match the installed version of<br>    node01: VirtualBox! In most cases this is fine, but in rare cases it can<br>    node01: prevent things such as shared folders from working properly. If you see<br>    node01: shared folder errors, please make sure the guest additions within the<br>    node01: virtual machine match the version of VirtualBox you have installed on<br>    node01: your host and reload your VM.<br>    node01:<br>    node01: Guest Additions Version: 4.3.10<br>    node01: VirtualBox Version: 5.0<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Setting</span> hostname...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Configuring</span> and enabling network interfaces...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Mounting</span> shared folders...<br></span>    node01: /vagrant =&gt; /Users/fqc/centos6-va<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Running</span> <span class="hljs-symbol">provisioner:</span> shell...<br></span>    node01: Running: inline script<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Hello</span><br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Importing</span> base box <span class="hljs-string">'nrel/CentOS-6.5-x86_64'</span>...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Matching</span> <span class="hljs-constant">MAC</span> address for <span class="hljs-constant">NAT</span> networking...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Checking</span> if box <span class="hljs-string">'nrel/CentOS-6.5-x86_64'</span> is up to date...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Setting</span> the name of the <span class="hljs-constant">VM</span><span class="hljs-symbol">:</span> centos6-va_node02_1463537858498_91628<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Fixed</span> port collision for <span class="hljs-number">22</span> =&gt; <span class="hljs-number">2222</span>. <span class="hljs-constant">Now</span> on port <span class="hljs-number">2201</span>.<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Clearing</span> any previously set network interfaces...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Preparing</span> network interfaces based on configuration...<br></span>    node02: Adapter 1: nat<br>    node02: Adapter 2: hostonly<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Forwarding</span> ports...<br></span>    node02: 22 (guest) =&gt; 2201 (host) (adapter 1)<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Running</span> <span class="hljs-string">'pre-boot'</span> <span class="hljs-constant">VM</span> customizations...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Booting</span> <span class="hljs-constant">VM</span>...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Waiting</span> for machine to boot. <span class="hljs-constant">This</span> may take a few minutes...<br></span>    node02: SSH address: 127.0.0.1:2201<br>    node02: SSH username: vagrant<br>    node02: SSH auth method: private key<br>    node02: Warning: Remote connection disconnect. Retrying...<br>    node02: Warning: Remote connection disconnect. Retrying...<br>    node02:<br>    node02: Vagrant insecure key detected. Vagrant will automatically replace<br>    node02: this with a newly generated keypair for better security.<br>    node02:<br>    node02: Inserting generated public key within guest...<br>    node02: Removing insecure key from the guest if it's present...<br>    node02: Key inserted! Disconnecting and reconnecting using new SSH key...<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Machine</span> booted and ready!<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Checking</span> for guest additions in <span class="hljs-constant">VM</span>...<br></span>    node02: The guest additions on this VM do not match the installed version of<br>    node02: VirtualBox! In most cases this is fine, but in rare cases it can<br>    node02: prevent things such as shared folders from working properly. If you see<br>    node02: shared folder errors, please make sure the guest additions within the<br>    node02: virtual machine match the version of VirtualBox you have installed on<br>    node02: your host and reload your VM.<br>    node02:<br>    node02: Guest Additions Version: 4.3.10<br>    node02: VirtualBox Version: 5.0<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Setting</span> hostname...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Configuring</span> and enabling network interfaces...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Mounting</span> shared folders...<br></span>    node02: /vagrant =&gt; /Users/fqc/centos6-va<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Running</span> <span class="hljs-symbol">provisioner:</span> shell...<br></span>    node02: Running: inline script<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Hello</span></span><br></code></pre>

</div><div id="wmd-preview-section-6503" class="wmd-preview-section preview-content">

<h2 id="vagrant-help">vagrant - -help</h2>

</div><div id="wmd-preview-section-6504" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs applescript">☁  centos6-va  vagrant <span class="hljs-comment">--help</span><br>Usage: vagrant [options] &lt;command&gt; [&lt;args&gt;]<br><br>    -v, <span class="hljs-comment">--version                    Print the version and exit.</span><br>    -h, <span class="hljs-comment">--help                       Print this help.</span><br><br>Common commands:<br>     box             manages boxes: installation, removal, etc.<br>     connect         connect <span class="hljs-keyword">to</span> a remotely shared Vagrant environment<br>     destroy         stops <span class="hljs-keyword">and</span> deletes all traces <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> vagrant machine<br>     <span class="hljs-keyword">global</span>-status   outputs status Vagrant environments <span class="hljs-keyword">for</span> this user<br>     halt            stops <span class="hljs-keyword">the</span> vagrant machine<br>     help            shows <span class="hljs-keyword">the</span> help <span class="hljs-keyword">for</span> a subcommand<br>     init            initializes a new Vagrant environment <span class="hljs-keyword">by</span> creating a Vagrantfile<br>     login           <span class="hljs-command">log</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">to</span> HashiCorp's Atlas<br>     package         packages a <span class="hljs-property">running</span> vagrant environment <span class="hljs-keyword">into</span> a box<br>     plugin          manages plugins: install, uninstall, update, etc.<br>     port            displays information <span class="hljs-keyword">about</span> guest port mappings<br>     powershell      connects <span class="hljs-keyword">to</span> machine via powershell remoting<br>     provision       provisions <span class="hljs-keyword">the</span> vagrant machine<br>     push            deploys code <span class="hljs-keyword">in</span> this environment <span class="hljs-keyword">to</span> a configured destination<br>     rdp             connects <span class="hljs-keyword">to</span> machine via RDP<br>     reload          restarts vagrant machine, loads new Vagrantfile configuration<br>     resume          resume a suspended vagrant machine<br>     share           share your Vagrant environment <span class="hljs-keyword">with</span> anyone <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> world<br>     snapshot        manages snapshots: saving, restoring, etc.<br>     ssh             connects <span class="hljs-keyword">to</span> machine via SSH<br>     ssh-config      outputs OpenSSH valid configuration <span class="hljs-keyword">to</span> connect <span class="hljs-keyword">to</span> <span class="hljs-keyword">the</span> machine<br>     status          outputs status <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> vagrant machine<br>     suspend         suspends <span class="hljs-keyword">the</span> machine<br>     up              starts <span class="hljs-keyword">and</span> provisions <span class="hljs-keyword">the</span> vagrant environment<br>     <span class="hljs-property">version</span>         prints current <span class="hljs-keyword">and</span> latest Vagrant <span class="hljs-property">version</span><br><br>For help <span class="hljs-function_start"><span class="hljs-keyword">on</span></span> any individual command <span class="hljs-command">run</span> `vagrant COMMAND -h`<br><br>Additional subcommands are available, <span class="hljs-keyword">but</span> are either more advanced<br><span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> commonly used. To see all subcommands, <span class="hljs-command">run</span> <span class="hljs-keyword">the</span> command<br>`vagrant <span class="hljs-type">list</span>-commands`.<br></code></pre>

</div><div id="wmd-preview-section-6505" class="wmd-preview-section preview-content">

<h2 id="ping-nodexx">ping nodexx</h2>

</div><div id="wmd-preview-section-6506" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs livecodeserver">☁  centos6-va  ping node01<br>PING node01 (<span class="hljs-number">202.106</span><span class="hljs-number">.199</span><span class="hljs-number">.37</span>): <span class="hljs-number">56</span> data <span class="hljs-keyword">bytes</span><br><span class="hljs-number">64</span> <span class="hljs-keyword">bytes</span> <span class="hljs-built_in">from</span> <span class="hljs-number">202.106</span><span class="hljs-number">.199</span><span class="hljs-number">.37</span>: icmp_seq=<span class="hljs-number">0</span> ttl=<span class="hljs-number">250</span> <span class="hljs-built_in">time</span>=<span class="hljs-number">7.431</span> ms<br><span class="hljs-number">64</span> <span class="hljs-keyword">bytes</span> <span class="hljs-built_in">from</span> <span class="hljs-number">202.106</span><span class="hljs-number">.199</span><span class="hljs-number">.37</span>: icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">250</span> <span class="hljs-built_in">time</span>=<span class="hljs-number">6.270</span> ms<br><span class="hljs-number">64</span> <span class="hljs-keyword">bytes</span> <span class="hljs-built_in">from</span> <span class="hljs-number">202.106</span><span class="hljs-number">.199</span><span class="hljs-number">.37</span>: icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">250</span> <span class="hljs-built_in">time</span>=<span class="hljs-number">5.492</span> ms<br><span class="hljs-number">64</span> <span class="hljs-keyword">bytes</span> <span class="hljs-built_in">from</span> <span class="hljs-number">202.106</span><span class="hljs-number">.199</span><span class="hljs-number">.37</span>: icmp_seq=<span class="hljs-number">3</span> ttl=<span class="hljs-number">250</span> <span class="hljs-built_in">time</span>=<span class="hljs-number">6.950</span> ms<br>^C<br><span class="hljs-comment">--- node01 ping statistics ---</span><br><span class="hljs-number">4</span> packets transmitted, <span class="hljs-number">4</span> packets received, <span class="hljs-number">0.0</span>% packet loss<br><span class="hljs-built_in">round</span>-trip <span class="hljs-built_in">min</span>/<span class="hljs-built_in">avg</span>/<span class="hljs-built_in">max</span>/stddev = <span class="hljs-number">5.492</span>/<span class="hljs-number">6.536</span>/<span class="hljs-number">7.431</span>/<span class="hljs-number">0.730</span> ms<br>☁  centos6-va  ping node02<br>PING node02 (<span class="hljs-number">202.106</span><span class="hljs-number">.199</span><span class="hljs-number">.37</span>): <span class="hljs-number">56</span> data <span class="hljs-keyword">bytes</span><br><span class="hljs-number">64</span> <span class="hljs-keyword">bytes</span> <span class="hljs-built_in">from</span> <span class="hljs-number">202.106</span><span class="hljs-number">.199</span><span class="hljs-number">.37</span>: icmp_seq=<span class="hljs-number">0</span> ttl=<span class="hljs-number">250</span> <span class="hljs-built_in">time</span>=<span class="hljs-number">7.652</span> ms<br><span class="hljs-number">64</span> <span class="hljs-keyword">bytes</span> <span class="hljs-built_in">from</span> <span class="hljs-number">202.106</span><span class="hljs-number">.199</span><span class="hljs-number">.37</span>: icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">250</span> <span class="hljs-built_in">time</span>=<span class="hljs-number">6.529</span> ms<br><span class="hljs-number">64</span> <span class="hljs-keyword">bytes</span> <span class="hljs-built_in">from</span> <span class="hljs-number">202.106</span><span class="hljs-number">.199</span><span class="hljs-number">.37</span>: icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">250</span> <span class="hljs-built_in">time</span>=<span class="hljs-number">40.863</span> ms<br>^C<br><span class="hljs-comment">--- node02 ping statistics ---</span><br><span class="hljs-number">3</span> packets transmitted, <span class="hljs-number">3</span> packets received, <span class="hljs-number">0.0</span>% packet loss<br><span class="hljs-built_in">round</span>-trip <span class="hljs-built_in">min</span>/<span class="hljs-built_in">avg</span>/<span class="hljs-built_in">max</span>/stddev = <span class="hljs-number">6.529</span>/<span class="hljs-number">18.348</span>/<span class="hljs-number">40.863</span>/<span class="hljs-number">15.927</span> ms<br></code></pre>

</div><div id="wmd-preview-section-6507" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs cpp">☁  centos6-va  ping <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.21</span><br>PING <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.21</span> (<span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.21</span>): <span class="hljs-number">56</span> data bytes<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.21</span>: icmp_seq=<span class="hljs-number">0</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">0.387</span> ms<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.21</span>: icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">0.274</span> ms<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.21</span>: icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">0.217</span> ms<br>^C<br>--- <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.21</span> ping statistics ---<br><span class="hljs-number">3</span> packets transmitted, <span class="hljs-number">3</span> packets received, <span class="hljs-number">0.0</span>% packet loss<br>round-trip min/avg/max/stddev = <span class="hljs-number">0.217</span>/<span class="hljs-number">0.293</span>/<span class="hljs-number">0.387</span>/<span class="hljs-number">0.071</span> ms<br>☁  centos6-va  ping <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span><br>PING <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span> (<span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span>): <span class="hljs-number">56</span> data bytes<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span>: icmp_seq=<span class="hljs-number">0</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">0.260</span> ms<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span>: icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">0.285</span> ms<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span>: icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">0.375</span> ms<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span>: icmp_seq=<span class="hljs-number">3</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">0.393</span> ms<br>^C<br>--- <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span> ping statistics ---<br><span class="hljs-number">4</span> packets transmitted, <span class="hljs-number">4</span> packets received, <span class="hljs-number">0.0</span>% packet loss<br>round-trip min/avg/max/stddev = <span class="hljs-number">0.260</span>/<span class="hljs-number">0.328</span>/<span class="hljs-number">0.393</span>/<span class="hljs-number">0.057</span> ms<br>☁  centos6-va  ping <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.23</span><br>PING <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.23</span> (<span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.23</span>): <span class="hljs-number">56</span> data bytes<br>Request timeout <span class="hljs-keyword">for</span> icmp_seq <span class="hljs-number">0</span><br>^C<br>--- <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.23</span> ping statistics ---<br></code></pre>

</div><div id="wmd-preview-section-6508" class="wmd-preview-section preview-content">

<h2 id="增加节点">增加节点</h2>

</div><div id="wmd-preview-section-6509" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs sql"> config.vm.define "node03" <span class="hljs-operator"><span class="hljs-keyword">do</span> |node03_config|<br>    # node03_config.vm.customize [<span class="hljs-string">"modifyvm"</span>, :<span class="hljs-keyword">id</span>, <span class="hljs-string">"--name"</span>, <span class="hljs-string">"node03"</span>, <span class="hljs-string">"--memory"</span>, <span class="hljs-string">"512"</span>]<br>    node03_config.vm.provider :virtualbox <span class="hljs-keyword">do</span> |vb|<br>          vb.customize [<span class="hljs-string">'modifyvm'</span>, :<span class="hljs-keyword">id</span>,<span class="hljs-string">"--name"</span>, <span class="hljs-string">"node03"</span>,<span class="hljs-string">'--memory'</span>, <span class="hljs-string">'2048'</span>]<br>        <span class="hljs-keyword">end</span><br>    # node03_config.vm.box = <span class="hljs-string">"centos/7"</span><br>    node03_config.vm.host_name = <span class="hljs-string">"node03"</span><br>    node03_config.vm.network <span class="hljs-string">"private_network"</span>, ip: <span class="hljs-string">"192.168.33.22"</span><br>  <span class="hljs-keyword">end</span></span><br></code></pre>

<p>vagrant reload</p>

</div><div id="wmd-preview-section-6510" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs haml">☁  centos6-va  vagrant reload<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Attempting</span> graceful shutdown of <span class="hljs-constant">VM</span>...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Checking</span> if box <span class="hljs-string">'nrel/CentOS-6.5-x86_64'</span> is up to date...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Clearing</span> any previously set forwarded ports...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Fixed</span> port collision for <span class="hljs-number">22</span> =&gt; <span class="hljs-number">2222</span>. <span class="hljs-constant">Now</span> on port <span class="hljs-number">2200</span>.<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Clearing</span> any previously set network interfaces...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Preparing</span> network interfaces based on configuration...<br></span>    node01: Adapter 1: nat<br>    node01: Adapter 2: hostonly<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Forwarding</span> ports...<br></span>    node01: 22 (guest) =&gt; 2200 (host) (adapter 1)<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Running</span> <span class="hljs-string">'pre-boot'</span> <span class="hljs-constant">VM</span> customizations...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Booting</span> <span class="hljs-constant">VM</span>...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Waiting</span> for machine to boot. <span class="hljs-constant">This</span> may take a few minutes...<br></span>    node01: SSH address: 127.0.0.1:2200<br>    node01: SSH username: vagrant<br>    node01: SSH auth method: private key<br>    node01: Warning: Remote connection disconnect. Retrying...<br>    node01: Warning: Remote connection disconnect. Retrying...<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Machine</span> booted and ready!<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Checking</span> for guest additions in <span class="hljs-constant">VM</span>...<br></span>    node01: The guest additions on this VM do not match the installed version of<br>    node01: VirtualBox! In most cases this is fine, but in rare cases it can<br>    node01: prevent things such as shared folders from working properly. If you see<br>    node01: shared folder errors, please make sure the guest additions within the<br>    node01: virtual machine match the version of VirtualBox you have installed on<br>    node01: your host and reload your VM.<br>    node01:<br>    node01: Guest Additions Version: 4.3.10<br>    node01: VirtualBox Version: 5.0<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Setting</span> hostname...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Configuring</span> and enabling network interfaces...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Mounting</span> shared folders...<br></span>    node01: /vagrant =&gt; /Users/fqc/centos6-va<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Machine</span> already provisioned. <span class="hljs-constant">Run</span> <span class="hljs-string">`vagrant provision`</span> or use the <span class="hljs-string">`--provision`</span><br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> flag to force provisioning. <span class="hljs-constant">Provisioners</span> marked to run always will still run.<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Attempting</span> graceful shutdown of <span class="hljs-constant">VM</span>...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Checking</span> if box <span class="hljs-string">'nrel/CentOS-6.5-x86_64'</span> is up to date...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Clearing</span> any previously set forwarded ports...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Fixed</span> port collision for <span class="hljs-number">22</span> =&gt; <span class="hljs-number">2222</span>. <span class="hljs-constant">Now</span> on port <span class="hljs-number">2201</span>.<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Clearing</span> any previously set network interfaces...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Preparing</span> network interfaces based on configuration...<br></span>    node02: Adapter 1: nat<br>    node02: Adapter 2: hostonly<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Forwarding</span> ports...<br></span>    node02: 22 (guest) =&gt; 2201 (host) (adapter 1)<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Running</span> <span class="hljs-string">'pre-boot'</span> <span class="hljs-constant">VM</span> customizations...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Booting</span> <span class="hljs-constant">VM</span>...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Waiting</span> for machine to boot. <span class="hljs-constant">This</span> may take a few minutes...<br></span>    node02: SSH address: 127.0.0.1:2201<br>    node02: SSH username: vagrant<br>    node02: SSH auth method: private key<br>    node02: Warning: Remote connection disconnect. Retrying...<br>    node02: Warning: Remote connection disconnect. Retrying...<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Machine</span> booted and ready!<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Checking</span> for guest additions in <span class="hljs-constant">VM</span>...<br></span>    node02: The guest additions on this VM do not match the installed version of<br>    node02: VirtualBox! In most cases this is fine, but in rare cases it can<br>    node02: prevent things such as shared folders from working properly. If you see<br>    node02: shared folder errors, please make sure the guest additions within the<br>    node02: virtual machine match the version of VirtualBox you have installed on<br>    node02: your host and reload your VM.<br>    node02:<br>    node02: Guest Additions Version: 4.3.10<br>    node02: VirtualBox Version: 5.0<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Setting</span> hostname...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Configuring</span> and enabling network interfaces...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Mounting</span> shared folders...<br></span>    node02: /vagrant =&gt; /Users/fqc/centos6-va<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Machine</span> already provisioned. <span class="hljs-constant">Run</span> <span class="hljs-string">`vagrant provision`</span> or use the <span class="hljs-string">`--provision`</span><br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> flag to force provisioning. <span class="hljs-constant">Provisioners</span> marked to run always will still run.<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">VM</span> not created. <span class="hljs-constant">Moving</span> on...</span><br></code></pre>

<p>但是注意上面我的配置文件的ip忘记修改了，此时修改后再次vagrant reload</p>

</div><div id="wmd-preview-section-6511" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs haml">☁  centos6-va  vagrant reload<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Attempting</span> graceful shutdown of <span class="hljs-constant">VM</span>...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Checking</span> if box <span class="hljs-string">'nrel/CentOS-6.5-x86_64'</span> is up to date...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Clearing</span> any previously set forwarded ports...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Fixed</span> port collision for <span class="hljs-number">22</span> =&gt; <span class="hljs-number">2222</span>. <span class="hljs-constant">Now</span> on port <span class="hljs-number">2200</span>.<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Clearing</span> any previously set network interfaces...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Preparing</span> network interfaces based on configuration...<br></span>    node01: Adapter 1: nat<br>    node01: Adapter 2: hostonly<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Forwarding</span> ports...<br></span>    node01: 22 (guest) =&gt; 2200 (host) (adapter 1)<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Running</span> <span class="hljs-string">'pre-boot'</span> <span class="hljs-constant">VM</span> customizations...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Booting</span> <span class="hljs-constant">VM</span>...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Waiting</span> for machine to boot. <span class="hljs-constant">This</span> may take a few minutes...<br></span>    node01: SSH address: 127.0.0.1:2200<br>    node01: SSH username: vagrant<br>    node01: SSH auth method: private key<br>    node01: Warning: Remote connection disconnect. Retrying...<br>    node01: Warning: Remote connection disconnect. Retrying...<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Machine</span> booted and ready!<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Checking</span> for guest additions in <span class="hljs-constant">VM</span>...<br></span>    node01: The guest additions on this VM do not match the installed version of<br>    node01: VirtualBox! In most cases this is fine, but in rare cases it can<br>    node01: prevent things such as shared folders from working properly. If you see<br>    node01: shared folder errors, please make sure the guest additions within the<br>    node01: virtual machine match the version of VirtualBox you have installed on<br>    node01: your host and reload your VM.<br>    node01:<br>    node01: Guest Additions Version: 4.3.10<br>    node01: VirtualBox Version: 5.0<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Setting</span> hostname...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Configuring</span> and enabling network interfaces...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Mounting</span> shared folders...<br></span>    node01: /vagrant =&gt; /Users/fqc/centos6-va<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Machine</span> already provisioned. <span class="hljs-constant">Run</span> <span class="hljs-string">`vagrant provision`</span> or use the <span class="hljs-string">`--provision`</span><br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> flag to force provisioning. <span class="hljs-constant">Provisioners</span> marked to run always will still run.<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Attempting</span> graceful shutdown of <span class="hljs-constant">VM</span>...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Checking</span> if box <span class="hljs-string">'nrel/CentOS-6.5-x86_64'</span> is up to date...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Clearing</span> any previously set forwarded ports...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Fixed</span> port collision for <span class="hljs-number">22</span> =&gt; <span class="hljs-number">2222</span>. <span class="hljs-constant">Now</span> on port <span class="hljs-number">2201</span>.<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Clearing</span> any previously set network interfaces...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Preparing</span> network interfaces based on configuration...<br></span>    node02: Adapter 1: nat<br>    node02: Adapter 2: hostonly<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Forwarding</span> ports...<br></span>    node02: 22 (guest) =&gt; 2201 (host) (adapter 1)<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Running</span> <span class="hljs-string">'pre-boot'</span> <span class="hljs-constant">VM</span> customizations...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Booting</span> <span class="hljs-constant">VM</span>...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Waiting</span> for machine to boot. <span class="hljs-constant">This</span> may take a few minutes...<br></span>    node02: SSH address: 127.0.0.1:2201<br>    node02: SSH username: vagrant<br>    node02: SSH auth method: private key<br>    node02: Warning: Remote connection disconnect. Retrying...<br>    node02: Warning: Remote connection disconnect. Retrying...<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Machine</span> booted and ready!<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Checking</span> for guest additions in <span class="hljs-constant">VM</span>...<br></span>    node02: The guest additions on this VM do not match the installed version of<br>    node02: VirtualBox! In most cases this is fine, but in rare cases it can<br>    node02: prevent things such as shared folders from working properly. If you see<br>    node02: shared folder errors, please make sure the guest additions within the<br>    node02: virtual machine match the version of VirtualBox you have installed on<br>    node02: your host and reload your VM.<br>    node02:<br>    node02: Guest Additions Version: 4.3.10<br>    node02: VirtualBox Version: 5.0<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Setting</span> hostname...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Configuring</span> and enabling network interfaces...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Mounting</span> shared folders...<br></span>    node02: /vagrant =&gt; /Users/fqc/centos6-va<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Machine</span> already provisioned. <span class="hljs-constant">Run</span> <span class="hljs-string">`vagrant provision`</span> or use the <span class="hljs-string">`--provision`</span><br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> flag to force provisioning. <span class="hljs-constant">Provisioners</span> marked to run always will still run.<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">VM</span> not created. <span class="hljs-constant">Moving</span> on...</span><br></code></pre>

</div><div id="wmd-preview-section-6512" class="wmd-preview-section preview-content">

<h2 id="vagrant-up-启动装载node03">vagrant up  启动装载node03</h2>

</div><div id="wmd-preview-section-6513" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs haml">☁  centos6-va  vagrant up<br>Bringing machine 'node01' up with 'virtualbox' provider...<br>Bringing machine 'node02' up with 'virtualbox' provider...<br>Bringing machine 'node03' up with 'virtualbox' provider...<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">Checking</span> if box <span class="hljs-string">'nrel/CentOS-6.5-x86_64'</span> is up to date...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node01:</span> <span class="hljs-constant">VirtualBox</span> <span class="hljs-constant">VM</span> is already running.<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">Checking</span> if box <span class="hljs-string">'nrel/CentOS-6.5-x86_64'</span> is up to date...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node02:</span> <span class="hljs-constant">VirtualBox</span> <span class="hljs-constant">VM</span> is already running.<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Importing</span> base box <span class="hljs-string">'nrel/CentOS-6.5-x86_64'</span>...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Matching</span> <span class="hljs-constant">MAC</span> address for <span class="hljs-constant">NAT</span> networking...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Checking</span> if box <span class="hljs-string">'nrel/CentOS-6.5-x86_64'</span> is up to date...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Setting</span> the name of the <span class="hljs-constant">VM</span><span class="hljs-symbol">:</span> centos6-va_node03_1463540552581_78499<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Fixed</span> port collision for <span class="hljs-number">22</span> =&gt; <span class="hljs-number">2222</span>. <span class="hljs-constant">Now</span> on port <span class="hljs-number">2202</span>.<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Clearing</span> any previously set network interfaces...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Preparing</span> network interfaces based on configuration...<br></span>    node03: Adapter 1: nat<br>    node03: Adapter 2: hostonly<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Forwarding</span> ports...<br></span>    node03: 22 (guest) =&gt; 2202 (host) (adapter 1)<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Running</span> <span class="hljs-string">'pre-boot'</span> <span class="hljs-constant">VM</span> customizations...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Booting</span> <span class="hljs-constant">VM</span>...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Waiting</span> for machine to boot. <span class="hljs-constant">This</span> may take a few minutes...<br></span>    node03: SSH address: 127.0.0.1:2202<br>    node03: SSH username: vagrant<br>    node03: SSH auth method: private key<br>    node03: Warning: Remote connection disconnect. Retrying...<br>    node03: Warning: Remote connection disconnect. Retrying...<br>    node03:<br>    node03: Vagrant insecure key detected. Vagrant will automatically replace<br>    node03: this with a newly generated keypair for better security.<br>    node03:<br>    node03: Inserting generated public key within guest...<br>    node03: Removing insecure key from the guest if it's present...<br>    node03: Key inserted! Disconnecting and reconnecting using new SSH key...<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Machine</span> booted and ready!<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Checking</span> for guest additions in <span class="hljs-constant">VM</span>...<br></span>    node03: The guest additions on this VM do not match the installed version of<br>    node03: VirtualBox! In most cases this is fine, but in rare cases it can<br>    node03: prevent things such as shared folders from working properly. If you see<br>    node03: shared folder errors, please make sure the guest additions within the<br>    node03: virtual machine match the version of VirtualBox you have installed on<br>    node03: your host and reload your VM.<br>    node03:<br>    node03: Guest Additions Version: 4.3.10<br>    node03: VirtualBox Version: 5.0<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Setting</span> hostname...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Configuring</span> and enabling network interfaces...<br></span>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Mounting</span> shared folders...<br></span>    node03: /vagrant =&gt; /Users/fqc/centos6-va<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Running</span> <span class="hljs-symbol">provisioner:</span> shell...<br></span>    node03: Running: inline script<br>=<span class="ruby"><span class="hljs-status">=&gt;</span> <span class="hljs-symbol">node03:</span> <span class="hljs-constant">Hello</span></span><br></code></pre>

</div><div id="wmd-preview-section-6514" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs cpp">☁  centos6-va  ping <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.23</span><br>PING <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.23</span> (<span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.23</span>): <span class="hljs-number">56</span> data bytes<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.23</span>: icmp_seq=<span class="hljs-number">0</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">0.456</span> ms<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.23</span>: icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">0.263</span> ms<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.23</span>: icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">0.358</span> ms<br>^C<br>--- <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.23</span> ping statistics ---<br><span class="hljs-number">3</span> packets transmitted, <span class="hljs-number">3</span> packets received, <span class="hljs-number">0.0</span>% packet loss<br>round-trip min/avg/max/stddev = <span class="hljs-number">0.263</span>/<span class="hljs-number">0.359</span>/<span class="hljs-number">0.456</span>/<span class="hljs-number">0.079</span> ms<br></code></pre>

<p>vagrant node01</p>

</div><div id="wmd-preview-section-6515" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs groovy">☁  centos6-va  vagrant ssh node01<br>Welcome to your Vagrant-built virtual machine.<br>-<span class="hljs-string">bash:</span> <span class="hljs-string">warning:</span> <span class="hljs-string">setlocale:</span> <span class="hljs-string">LC_CTYPE:</span> cannot change locale (UTF-<span class="hljs-number">8</span>): No such file or directory<br>[vagrant<span class="hljs-annotation">@node</span>01 ~]$ ifconfig<br>eth0      Link <span class="hljs-string">encap:</span>Ethernet  HWaddr <span class="hljs-number">08</span>:<span class="hljs-number">00</span>:<span class="hljs-number">27</span>:<span class="hljs-number">15</span>:<span class="hljs-string">D5:</span><span class="hljs-number">19</span><br>          inet <span class="hljs-string">addr:</span><span class="hljs-number">10.0</span><span class="hljs-number">.2</span><span class="hljs-number">.15</span>  <span class="hljs-string">Bcast:</span><span class="hljs-number">10.0</span><span class="hljs-number">.2</span><span class="hljs-number">.255</span>  <span class="hljs-string">Mask:</span><span class="hljs-number">255.255</span><span class="hljs-number">.255</span><span class="hljs-number">.0</span><br>          inet6 <span class="hljs-string">addr:</span> <span class="hljs-string">fe80:</span>:<span class="hljs-string">a00:</span><span class="hljs-number">27</span><span class="hljs-string">ff:</span><span class="hljs-string">fe15:</span>d519/<span class="hljs-number">64</span> <span class="hljs-string">Scope:</span>Link<br>          UP BROADCAST RUNNING MULTICAST  <span class="hljs-string">MTU:</span><span class="hljs-number">1500</span>  <span class="hljs-string">Metric:</span><span class="hljs-number">1</span><br>          RX <span class="hljs-string">packets:</span><span class="hljs-number">392</span> <span class="hljs-string">errors:</span><span class="hljs-number">0</span> <span class="hljs-string">dropped:</span><span class="hljs-number">0</span> <span class="hljs-string">overruns:</span><span class="hljs-number">0</span> <span class="hljs-string">frame:</span><span class="hljs-number">0</span><br>          TX <span class="hljs-string">packets:</span><span class="hljs-number">246</span> <span class="hljs-string">errors:</span><span class="hljs-number">0</span> <span class="hljs-string">dropped:</span><span class="hljs-number">0</span> <span class="hljs-string">overruns:</span><span class="hljs-number">0</span> <span class="hljs-string">carrier:</span><span class="hljs-number">0</span><br><span class="hljs-label">          collisions:</span><span class="hljs-number">0</span> <span class="hljs-string">txqueuelen:</span><span class="hljs-number">1000</span><br>          RX <span class="hljs-string">bytes:</span><span class="hljs-number">43798</span> (<span class="hljs-number">42.7</span> KiB)  TX <span class="hljs-string">bytes:</span><span class="hljs-number">34868</span> (<span class="hljs-number">34.0</span> KiB)<br><br>eth1      Link <span class="hljs-string">encap:</span>Ethernet  HWaddr <span class="hljs-number">08</span>:<span class="hljs-number">00</span>:<span class="hljs-number">27</span>:<span class="hljs-number">6</span><span class="hljs-string">B:</span><span class="hljs-number">9</span><span class="hljs-string">D:</span>C9<br>          inet <span class="hljs-string">addr:</span><span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.21</span>  <span class="hljs-string">Bcast:</span><span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.255</span>  <span class="hljs-string">Mask:</span><span class="hljs-number">255.255</span><span class="hljs-number">.255</span><span class="hljs-number">.0</span><br>          inet6 <span class="hljs-string">addr:</span> <span class="hljs-string">fe80:</span>:<span class="hljs-string">a00:</span><span class="hljs-number">27</span><span class="hljs-string">ff:</span><span class="hljs-string">fe6b:</span><span class="hljs-number">9</span>dc9/<span class="hljs-number">64</span> <span class="hljs-string">Scope:</span>Link<br>          UP BROADCAST RUNNING MULTICAST  <span class="hljs-string">MTU:</span><span class="hljs-number">1500</span>  <span class="hljs-string">Metric:</span><span class="hljs-number">1</span><br>          RX <span class="hljs-string">packets:</span><span class="hljs-number">14</span> <span class="hljs-string">errors:</span><span class="hljs-number">0</span> <span class="hljs-string">dropped:</span><span class="hljs-number">0</span> <span class="hljs-string">overruns:</span><span class="hljs-number">0</span> <span class="hljs-string">frame:</span><span class="hljs-number">0</span><br>          TX <span class="hljs-string">packets:</span><span class="hljs-number">15</span> <span class="hljs-string">errors:</span><span class="hljs-number">0</span> <span class="hljs-string">dropped:</span><span class="hljs-number">0</span> <span class="hljs-string">overruns:</span><span class="hljs-number">0</span> <span class="hljs-string">carrier:</span><span class="hljs-number">0</span><br><span class="hljs-label">          collisions:</span><span class="hljs-number">0</span> <span class="hljs-string">txqueuelen:</span><span class="hljs-number">1000</span><br>          RX <span class="hljs-string">bytes:</span><span class="hljs-number">840</span> (<span class="hljs-number">840.0</span> b)  TX <span class="hljs-string">bytes:</span><span class="hljs-number">1058</span> (<span class="hljs-number">1.0</span> KiB)<br><br>lo        Link <span class="hljs-string">encap:</span>Local Loopback<br>          inet <span class="hljs-string">addr:</span><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>  <span class="hljs-string">Mask:</span><span class="hljs-number">255.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><br>          inet6 <span class="hljs-string">addr:</span> ::<span class="hljs-number">1</span>/<span class="hljs-number">128</span> <span class="hljs-string">Scope:</span>Host<br>          UP LOOPBACK RUNNING  <span class="hljs-string">MTU:</span><span class="hljs-number">16436</span>  <span class="hljs-string">Metric:</span><span class="hljs-number">1</span><br>          RX <span class="hljs-string">packets:</span><span class="hljs-number">0</span> <span class="hljs-string">errors:</span><span class="hljs-number">0</span> <span class="hljs-string">dropped:</span><span class="hljs-number">0</span> <span class="hljs-string">overruns:</span><span class="hljs-number">0</span> <span class="hljs-string">frame:</span><span class="hljs-number">0</span><br>          TX <span class="hljs-string">packets:</span><span class="hljs-number">0</span> <span class="hljs-string">errors:</span><span class="hljs-number">0</span> <span class="hljs-string">dropped:</span><span class="hljs-number">0</span> <span class="hljs-string">overruns:</span><span class="hljs-number">0</span> <span class="hljs-string">carrier:</span><span class="hljs-number">0</span><br><span class="hljs-label">          collisions:</span><span class="hljs-number">0</span> <span class="hljs-string">txqueuelen:</span><span class="hljs-number">0</span><br>          RX <span class="hljs-string">bytes:</span><span class="hljs-number">0</span> (<span class="hljs-number">0.0</span> b)  TX <span class="hljs-string">bytes:</span><span class="hljs-number">0</span> (<span class="hljs-number">0.0</span> b)<br></code></pre>

</div><div id="wmd-preview-section-6516" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs scheme"><span class="hljs-list">[<span class="hljs-keyword">vagrant@node01</span> ~]$ exit<br>logout<br>Connection to <span class="hljs-number">127.0</span>.0.1 closed.<br>☁  centos6-va  ssh vagrant@node01<br>The authenticity of host <span class="hljs-variable">'node01</span> <span class="hljs-list">(<span class="hljs-keyword">202.106.199.37</span>)</span>' can<span class="hljs-variable">'t</span> be established.<br>RSA key fingerprint is SHA256:mkc0smci7yUpw5YOOeyPDjjgB+XdMm7N6718rYhvdJ8.<br>Are you sure you want to continue connecting <span class="hljs-list">(<span class="hljs-keyword">yes/no</span>)</span>? yes<br>Warning: Permanently added <span class="hljs-variable">'node01</span>,<span class="hljs-number">202.106</span>.199.37' <span class="hljs-list">(<span class="hljs-keyword">RSA</span>)</span> to the list of known hosts.<br>Password:<br>Password:<br>Password:<br>Permission denied <span class="hljs-list">(<span class="hljs-keyword">gssapi-keyex</span>,gssapi-with-mic,publickey,keyboard-interactive)</span>.</span><br></code></pre>

<p>注意 ssh</p>

</div><div id="wmd-preview-section-6517" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs sql">☁  centos6-va  vagrant ssh node01<br>Last login: Wed May 18 03:29:06 2016 from 10.0.2.2<br>Welcome to your Vagrant-built virtual machine.<br>-bash: warning: setlocale: LC_CTYPE: cannot <span class="hljs-operator"><span class="hljs-keyword">change</span> locale (UTF-<span class="hljs-number">8</span>): <span class="hljs-keyword">No</span> such <span class="hljs-keyword">file</span> <span class="hljs-keyword">or</span> <span class="hljs-keyword">directory</span><br>[vagrant@node01 ~]$ ssh vagrant@node02<br>The authenticity <span class="hljs-keyword">of</span> host <span class="hljs-string">'node02 (202.106.199.37)'</span> can<span class="hljs-string">'t be established.<br>RSA key fingerprint is a6:1d:25:ab:6c:5b:ae:12:b9:ff:8c:d4:81:42:05:49.<br>Are you sure you want to continue connecting (yes/no)? yes<br>Warning: Permanently added '</span>node02,<span class="hljs-number">202.106</span><span class="hljs-number">.199</span><span class="hljs-number">.37</span><span class="hljs-string">' (RSA) to the list of known hosts.<br>Password:<br>Password:<br>Password:<br>Permission denied (gssapi-keyex,gssapi-with-mic,publickey,keyboard-interactive).<br>[vagrant@node01 ~]$ ssh vagrant@node02<br>Password:<br>Password:<br>Password:<br>Permission denied (gssapi-keyex,gssapi-with-mic,publickey,keyboard-interactive).<br>[vagrant@node01 ~]$ l<br>-bash: l: command not found<br>[vagrant@node01 ~]$ ll<br>total 0<br>[vagrant@node01 ~]$ ssh vagrant@192.168.33.22<br>The authenticity of host '</span><span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span> (<span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span>)<span class="hljs-string">' can'</span><span class="hljs-keyword">t</span> be established.<br>RSA <span class="hljs-keyword">key</span> fingerprint <span class="hljs-keyword">is</span> cb:<span class="hljs-number">8</span><span class="hljs-keyword">e</span>:<span class="hljs-number">2</span><span class="hljs-keyword">e</span>:e9:d0:<span class="hljs-number">0</span><span class="hljs-keyword">d</span>:<span class="hljs-number">5</span><span class="hljs-keyword">d</span>:<span class="hljs-number">7</span>b:<span class="hljs-number">48</span>:d3:<span class="hljs-number">25</span>:eb:<span class="hljs-number">18</span>:<span class="hljs-number">50</span>:b7:<span class="hljs-number">22.</span><br><span class="hljs-keyword">Are</span> you sure you want <span class="hljs-keyword">to</span> continue connecting (yes/<span class="hljs-keyword">no</span>)? yes<br><span class="hljs-keyword">Warning</span>: Permanently added <span class="hljs-string">'192.168.33.22'</span> (RSA) <span class="hljs-keyword">to</span> the <span class="hljs-keyword">list</span> <span class="hljs-keyword">of</span> known <span class="hljs-keyword">hosts</span>.<br>Address <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span> maps <span class="hljs-keyword">to</span> localhost, but this does <span class="hljs-keyword">not</span> <span class="hljs-keyword">map</span> back <span class="hljs-keyword">to</span> the address - POSSIBLE BREAK-<span class="hljs-keyword">IN</span> ATTEMPT!<br>vagrant@<span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span><span class="hljs-string">'s password:<br>Welcome to your Vagrant-built virtual machine.<br>[vagrant@node02 ~]$</span></span><br></code></pre>

</div><div id="wmd-preview-section-6611" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs vbnet"><br>[vagrant@node02 ~]$ <span class="hljs-keyword">exit</span><br>logout<br>Connection <span class="hljs-keyword">to</span> <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span> closed.<br>[vagrant@node01 ~]$ <span class="hljs-keyword">exit</span><br>logout<br>Connection <span class="hljs-keyword">to</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> closed.<br><br>☁  centos6-va  ssh vagrant@<span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span><br>The authenticity <span class="hljs-keyword">of</span> host <span class="hljs-comment">'192.168.33.22 (192.168.33.22)' can't be established.</span><br>RSA <span class="hljs-keyword">key</span> fingerprint <span class="hljs-keyword">is</span> SHA256:Y95d2u1wytMkcsG/<span class="hljs-number">0</span>gakD4UJtudFhNkMQ5Ked5ohsd8.<br>Are you sure you want <span class="hljs-keyword">to</span> <span class="hljs-keyword">continue</span> connecting (yes/no)? yes<br>Warning: Permanently added <span class="hljs-comment">'192.168.33.22' (RSA) to the list of known hosts.</span><br>vagrant@<span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span><span class="hljs-comment">'s password:</span><br>Last login: Wed May <span class="hljs-number">18</span> <span class="hljs-number">03</span>:<span class="hljs-number">46</span>:<span class="hljs-number">22</span> <span class="hljs-number">2016</span> <span class="hljs-keyword">from</span> <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.21</span><br>Welcome <span class="hljs-keyword">to</span> your Vagrant-built virtual machine.<br>-bash: warning: setlocale: LC_CTYPE: cannot change locale (UTF-<span class="hljs-number">8</span>): No such file <span class="hljs-keyword">or</span> directory<br>[vagrant@node02 ~]$<br></code></pre>

</div><div id="wmd-preview-section-7242" class="wmd-preview-section preview-content">

<h3 id="外网网络连通">外网网络连通</h3></div><div id="wmd-preview-section-7068" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs cpp">[vagrant@node02 ~]$ ping www<span class="hljs-number">.163</span>.com<br>PING <span class="hljs-number">1</span>st.xdwscache.ourwebpic.com (<span class="hljs-number">121.18</span><span class="hljs-number">.230</span><span class="hljs-number">.86</span>) <span class="hljs-number">56</span>(<span class="hljs-number">84</span>) bytes of data.<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">121.18</span><span class="hljs-number">.230</span><span class="hljs-number">.86</span>: icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">63</span> time=<span class="hljs-number">31.0</span> ms<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">121.18</span><span class="hljs-number">.230</span><span class="hljs-number">.86</span>: icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">63</span> time=<span class="hljs-number">29.3</span> ms<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">121.18</span><span class="hljs-number">.230</span><span class="hljs-number">.86</span>: icmp_seq=<span class="hljs-number">3</span> ttl=<span class="hljs-number">63</span> time=<span class="hljs-number">102</span> ms<br>^C<br>--- <span class="hljs-number">1</span>st.xdwscache.ourwebpic.com ping statistics ---<br><span class="hljs-number">3</span> packets transmitted, <span class="hljs-number">3</span> received, <span class="hljs-number">0</span>% packet loss, time <span class="hljs-number">2570</span>ms<br>rtt min/avg/max/mdev = <span class="hljs-number">29.347</span>/<span class="hljs-number">54.277</span>/<span class="hljs-number">102.421</span>/<span class="hljs-number">34.050</span> ms<br></code></pre>

</div><div id="wmd-preview-section-7139" class="wmd-preview-section preview-content">

<h3 id="宿主机网络连通">宿主机网络连通</h3></div><div id="wmd-preview-section-8295" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs cpp">[vagrant@node02 ~]$ ping <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.179</span><br>PING <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.179</span> (<span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.179</span>) <span class="hljs-number">56</span>(<span class="hljs-number">84</span>) bytes of data.<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.179</span>: icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">63</span> time=<span class="hljs-number">0.470</span> ms<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.179</span>: icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">63</span> time=<span class="hljs-number">0.471</span> ms<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.179</span>: icmp_seq=<span class="hljs-number">3</span> ttl=<span class="hljs-number">63</span> time=<span class="hljs-number">0.370</span> ms<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.179</span>: icmp_seq=<span class="hljs-number">4</span> ttl=<span class="hljs-number">63</span> time=<span class="hljs-number">0.431</span> ms<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.179</span>: icmp_seq=<span class="hljs-number">5</span> ttl=<span class="hljs-number">63</span> time=<span class="hljs-number">0.365</span> ms<br>^C<br>--- <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.179</span> ping statistics ---<br><span class="hljs-number">5</span> packets transmitted, <span class="hljs-number">5</span> received, <span class="hljs-number">0</span>% packet loss, time <span class="hljs-number">4419</span>ms<br>rtt min/avg/max/mdev = <span class="hljs-number">0.365</span>/<span class="hljs-number">0.421</span>/<span class="hljs-number">0.471</span>/<span class="hljs-number">0.049</span> ms<br></code></pre>

<p>注意：node01 node02 node03 …nodexx都可以ping通…..</p>

<p>发现node01 ifconfig eth0 eth1</p>

</div><div id="wmd-preview-section-9118" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs groovy">☁  centos6-va  vagrant ssh node01<br>Last <span class="hljs-string">login:</span> Wed May <span class="hljs-number">18</span> <span class="hljs-number">03</span>:<span class="hljs-number">39</span>:<span class="hljs-number">31</span> <span class="hljs-number">2016</span> from <span class="hljs-number">10.0</span><span class="hljs-number">.2</span><span class="hljs-number">.2</span><br>Welcome to your Vagrant-built virtual machine.<br>-<span class="hljs-string">bash:</span> <span class="hljs-string">warning:</span> <span class="hljs-string">setlocale:</span> <span class="hljs-string">LC_CTYPE:</span> cannot change locale (UTF-<span class="hljs-number">8</span>): No such file or directory<br>[vagrant<span class="hljs-annotation">@node</span>01 ~]$ ifconfig<br>eth0      Link <span class="hljs-string">encap:</span>Ethernet  HWaddr <span class="hljs-number">08</span>:<span class="hljs-number">00</span>:<span class="hljs-number">27</span>:<span class="hljs-number">15</span>:<span class="hljs-string">D5:</span><span class="hljs-number">19</span><br>          inet <span class="hljs-string">addr:</span><span class="hljs-number">10.0</span><span class="hljs-number">.2</span><span class="hljs-number">.15</span>  <span class="hljs-string">Bcast:</span><span class="hljs-number">10.0</span><span class="hljs-number">.2</span><span class="hljs-number">.255</span>  <span class="hljs-string">Mask:</span><span class="hljs-number">255.255</span><span class="hljs-number">.255</span><span class="hljs-number">.0</span><br>          inet6 <span class="hljs-string">addr:</span> <span class="hljs-string">fe80:</span>:<span class="hljs-string">a00:</span><span class="hljs-number">27</span><span class="hljs-string">ff:</span><span class="hljs-string">fe15:</span>d519/<span class="hljs-number">64</span> <span class="hljs-string">Scope:</span>Link<br>          UP BROADCAST RUNNING MULTICAST  <span class="hljs-string">MTU:</span><span class="hljs-number">1500</span>  <span class="hljs-string">Metric:</span><span class="hljs-number">1</span><br>          RX <span class="hljs-string">packets:</span><span class="hljs-number">876</span> <span class="hljs-string">errors:</span><span class="hljs-number">0</span> <span class="hljs-string">dropped:</span><span class="hljs-number">0</span> <span class="hljs-string">overruns:</span><span class="hljs-number">0</span> <span class="hljs-string">frame:</span><span class="hljs-number">0</span><br>          TX <span class="hljs-string">packets:</span><span class="hljs-number">547</span> <span class="hljs-string">errors:</span><span class="hljs-number">0</span> <span class="hljs-string">dropped:</span><span class="hljs-number">0</span> <span class="hljs-string">overruns:</span><span class="hljs-number">0</span> <span class="hljs-string">carrier:</span><span class="hljs-number">0</span><br><span class="hljs-label">          collisions:</span><span class="hljs-number">0</span> <span class="hljs-string">txqueuelen:</span><span class="hljs-number">1000</span><br>          RX <span class="hljs-string">bytes:</span><span class="hljs-number">88718</span> (<span class="hljs-number">86.6</span> KiB)  TX <span class="hljs-string">bytes:</span><span class="hljs-number">67114</span> (<span class="hljs-number">65.5</span> KiB)<br><br>eth1      Link <span class="hljs-string">encap:</span>Ethernet  HWaddr <span class="hljs-number">08</span>:<span class="hljs-number">00</span>:<span class="hljs-number">27</span>:<span class="hljs-number">6</span><span class="hljs-string">B:</span><span class="hljs-number">9</span><span class="hljs-string">D:</span>C9<br>          inet <span class="hljs-string">addr:</span><span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.21</span>  <span class="hljs-string">Bcast:</span><span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.255</span>  <span class="hljs-string">Mask:</span><span class="hljs-number">255.255</span><span class="hljs-number">.255</span><span class="hljs-number">.0</span><br>          inet6 <span class="hljs-string">addr:</span> <span class="hljs-string">fe80:</span>:<span class="hljs-string">a00:</span><span class="hljs-number">27</span><span class="hljs-string">ff:</span><span class="hljs-string">fe6b:</span><span class="hljs-number">9</span>dc9/<span class="hljs-number">64</span> <span class="hljs-string">Scope:</span>Link<br>          UP BROADCAST RUNNING MULTICAST  <span class="hljs-string">MTU:</span><span class="hljs-number">1500</span>  <span class="hljs-string">Metric:</span><span class="hljs-number">1</span><br>          RX <span class="hljs-string">packets:</span><span class="hljs-number">91</span> <span class="hljs-string">errors:</span><span class="hljs-number">0</span> <span class="hljs-string">dropped:</span><span class="hljs-number">0</span> <span class="hljs-string">overruns:</span><span class="hljs-number">0</span> <span class="hljs-string">frame:</span><span class="hljs-number">0</span><br>          TX <span class="hljs-string">packets:</span><span class="hljs-number">54</span> <span class="hljs-string">errors:</span><span class="hljs-number">0</span> <span class="hljs-string">dropped:</span><span class="hljs-number">0</span> <span class="hljs-string">overruns:</span><span class="hljs-number">0</span> <span class="hljs-string">carrier:</span><span class="hljs-number">0</span><br><span class="hljs-label">          collisions:</span><span class="hljs-number">0</span> <span class="hljs-string">txqueuelen:</span><span class="hljs-number">1000</span><br>          RX <span class="hljs-string">bytes:</span><span class="hljs-number">10347</span> (<span class="hljs-number">10.1</span> KiB)  TX <span class="hljs-string">bytes:</span><span class="hljs-number">6141</span> (<span class="hljs-number">5.9</span> KiB)<br><br>lo        Link <span class="hljs-string">encap:</span>Local Loopback<br>          inet <span class="hljs-string">addr:</span><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>  <span class="hljs-string">Mask:</span><span class="hljs-number">255.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><br>          inet6 <span class="hljs-string">addr:</span> ::<span class="hljs-number">1</span>/<span class="hljs-number">128</span> <span class="hljs-string">Scope:</span>Host<br>          UP LOOPBACK RUNNING  <span class="hljs-string">MTU:</span><span class="hljs-number">16436</span>  <span class="hljs-string">Metric:</span><span class="hljs-number">1</span><br>          RX <span class="hljs-string">packets:</span><span class="hljs-number">0</span> <span class="hljs-string">errors:</span><span class="hljs-number">0</span> <span class="hljs-string">dropped:</span><span class="hljs-number">0</span> <span class="hljs-string">overruns:</span><span class="hljs-number">0</span> <span class="hljs-string">frame:</span><span class="hljs-number">0</span><br>          TX <span class="hljs-string">packets:</span><span class="hljs-number">0</span> <span class="hljs-string">errors:</span><span class="hljs-number">0</span> <span class="hljs-string">dropped:</span><span class="hljs-number">0</span> <span class="hljs-string">overruns:</span><span class="hljs-number">0</span> <span class="hljs-string">carrier:</span><span class="hljs-number">0</span><br><span class="hljs-label">          collisions:</span><span class="hljs-number">0</span> <span class="hljs-string">txqueuelen:</span><span class="hljs-number">0</span><br>          RX <span class="hljs-string">bytes:</span><span class="hljs-number">0</span> (<span class="hljs-number">0.0</span> b)  TX <span class="hljs-string">bytes:</span><span class="hljs-number">0</span> (<span class="hljs-number">0.0</span> b)<br><br>[vagrant<span class="hljs-annotation">@node</span>01 ~]$ ping <span class="hljs-number">10.0</span><span class="hljs-number">.2</span><span class="hljs-number">.15</span><br>PING <span class="hljs-number">10.0</span><span class="hljs-number">.2</span><span class="hljs-number">.15</span> (<span class="hljs-number">10.0</span><span class="hljs-number">.2</span><span class="hljs-number">.15</span>) <span class="hljs-number">56</span>(<span class="hljs-number">84</span>) bytes of data.<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">10.0</span><span class="hljs-number">.2</span><span class="hljs-number">.15</span>: icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">0.024</span> ms<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">10.0</span><span class="hljs-number">.2</span><span class="hljs-number">.15</span>: icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">0.023</span> ms<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">10.0</span><span class="hljs-number">.2</span><span class="hljs-number">.15</span>: icmp_seq=<span class="hljs-number">3</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">0.034</span> ms<br><span class="hljs-number">64</span> bytes from <span class="hljs-number">10.0</span><span class="hljs-number">.2</span><span class="hljs-number">.15</span>: icmp_seq=<span class="hljs-number">4</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">0.034</span> ms<br>^C<br>--- <span class="hljs-number">10.0</span><span class="hljs-number">.2</span><span class="hljs-number">.15</span> ping statistics ---<br><span class="hljs-number">4</span> packets transmitted, <span class="hljs-number">4</span> received, <span class="hljs-number">0</span>% packet loss, time <span class="hljs-number">3303</span>ms<br>rtt min<span class="hljs-regexp">/avg/</span>max<span class="hljs-regexp">/mdev = 0.023/</span><span class="hljs-number">0.028</span><span class="hljs-regexp">/0.034/</span><span class="hljs-number">0.008</span> ms<br></code></pre>

<p>所以 看虚拟机的网卡配置 <br>
<code>vi /etc/sysconfig/network-scripts/ifcfg-eth0</code></p></div><div id="wmd-preview-section-9575" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs ini"><span class="hljs-setting">DEVICE=<span class="hljs-value"><span class="hljs-string">"eth0"</span></span></span><br><span class="hljs-setting">BOOTPROTO=<span class="hljs-value"><span class="hljs-string">"dhcp"</span></span></span><br><span class="hljs-setting">IPV6INIT=<span class="hljs-value"><span class="hljs-string">"yes"</span></span></span><br><span class="hljs-setting">NM_CONTROLLED=<span class="hljs-value"><span class="hljs-string">"yes"</span></span></span><br><span class="hljs-setting">ONBOOT=<span class="hljs-value"><span class="hljs-string">"yes"</span></span></span><br><span class="hljs-setting">TYPE=<span class="hljs-value"><span class="hljs-string">"Ethernet"</span></span></span><br><span class="hljs-setting">UUID=<span class="hljs-value"><span class="hljs-string">"49d6d958-df9b-44c3-b9b9-c79e11ee96fd"</span></span></span><br></code></pre>

</div><div id="wmd-preview-section-9576" class="wmd-preview-section preview-content">

<h2 id="发现-vagrant-自动生成了配置">发现 vagrant 自动生成了配置</h2>

<p><code>vi /etc/sysconfig/network-scripts/ifcfg-eth1</code></p></div><div id="wmd-preview-section-9975" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs sql">#VAGRANT-<span class="hljs-operator"><span class="hljs-keyword">BEGIN</span><br># The <span class="hljs-keyword">contents</span> below <span class="hljs-keyword">are</span> automatically <span class="hljs-keyword">generated</span> <span class="hljs-keyword">by</span> Vagrant. <span class="hljs-keyword">Do</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">modify</span>.<br>NM_CONTROLLED=<span class="hljs-keyword">no</span><br>BOOTPROTO=<span class="hljs-keyword">none</span><br>ONBOOT=yes<br>IPADDR=<span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.21</span><br>NETMASK=<span class="hljs-number">255.255</span><span class="hljs-number">.255</span><span class="hljs-number">.0</span><br>DEVICE=eth1<br>PEERDNS=<span class="hljs-keyword">no</span><br>#VAGRANT-<span class="hljs-keyword">END</span><br>~</span><br></code></pre>

<p>配置域名映射</p></div><div id="wmd-preview-section-9656" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="hljs livecodeserver">☁  ~  sudo vim /etc/hosts<br>Password:<br>☁  ~  ping node01<br>PING node01 (<span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.21</span>): <span class="hljs-number">56</span> data <span class="hljs-keyword">bytes</span><br><span class="hljs-number">64</span> <span class="hljs-keyword">bytes</span> <span class="hljs-built_in">from</span> <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.21</span>: icmp_seq=<span class="hljs-number">0</span> ttl=<span class="hljs-number">64</span> <span class="hljs-built_in">time</span>=<span class="hljs-number">0.449</span> ms<br><span class="hljs-number">64</span> <span class="hljs-keyword">bytes</span> <span class="hljs-built_in">from</span> <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.21</span>: icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">64</span> <span class="hljs-built_in">time</span>=<span class="hljs-number">0.245</span> ms<br>^C<br><span class="hljs-comment">--- node01 ping statistics ---</span><br><span class="hljs-number">2</span> packets transmitted, <span class="hljs-number">2</span> packets received, <span class="hljs-number">0.0</span>% packet loss<br><span class="hljs-built_in">round</span>-trip <span class="hljs-built_in">min</span>/<span class="hljs-built_in">avg</span>/<span class="hljs-built_in">max</span>/stddev = <span class="hljs-number">0.245</span>/<span class="hljs-number">0.347</span>/<span class="hljs-number">0.449</span>/<span class="hljs-number">0.102</span> ms<br>☁  ~  ping node02<br>PING node02 (<span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span>): <span class="hljs-number">56</span> data <span class="hljs-keyword">bytes</span><br><span class="hljs-number">64</span> <span class="hljs-keyword">bytes</span> <span class="hljs-built_in">from</span> <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span>: icmp_seq=<span class="hljs-number">0</span> ttl=<span class="hljs-number">64</span> <span class="hljs-built_in">time</span>=<span class="hljs-number">0.390</span> ms<br><span class="hljs-number">64</span> <span class="hljs-keyword">bytes</span> <span class="hljs-built_in">from</span> <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span>: icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">64</span> <span class="hljs-built_in">time</span>=<span class="hljs-number">0.269</span> ms<br><span class="hljs-number">64</span> <span class="hljs-keyword">bytes</span> <span class="hljs-built_in">from</span> <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.22</span>: icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">64</span> <span class="hljs-built_in">time</span>=<span class="hljs-number">0.372</span> ms<br>^C<br><span class="hljs-comment">--- node02 ping statistics ---</span><br><span class="hljs-number">3</span> packets transmitted, <span class="hljs-number">3</span> packets received, <span class="hljs-number">0.0</span>% packet loss<br><span class="hljs-built_in">round</span>-trip <span class="hljs-built_in">min</span>/<span class="hljs-built_in">avg</span>/<span class="hljs-built_in">max</span>/stddev = <span class="hljs-number">0.269</span>/<span class="hljs-number">0.344</span>/<span class="hljs-number">0.390</span>/<span class="hljs-number">0.053</span> ms<br>☁  ~  ping node03<br>PING node03 (<span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.23</span>): <span class="hljs-number">56</span> data <span class="hljs-keyword">bytes</span><br><span class="hljs-number">64</span> <span class="hljs-keyword">bytes</span> <span class="hljs-built_in">from</span> <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.23</span>: icmp_seq=<span class="hljs-number">0</span> ttl=<span class="hljs-number">64</span> <span class="hljs-built_in">time</span>=<span class="hljs-number">0.478</span> ms<br><span class="hljs-number">64</span> <span class="hljs-keyword">bytes</span> <span class="hljs-built_in">from</span> <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.23</span>: icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">64</span> <span class="hljs-built_in">time</span>=<span class="hljs-number">0.269</span> ms<br><span class="hljs-number">64</span> <span class="hljs-keyword">bytes</span> <span class="hljs-built_in">from</span> <span class="hljs-number">192.168</span><span class="hljs-number">.33</span><span class="hljs-number">.23</span>: icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">64</span> <span class="hljs-built_in">time</span>=<span class="hljs-number">0.414</span> ms<br>^C<br><span class="hljs-comment">--- node03 ping statistics ---</span><br><span class="hljs-number">3</span> packets transmitted, <span class="hljs-number">3</span> packets received, <span class="hljs-number">0.0</span>% packet loss<br><span class="hljs-built_in">round</span>-trip <span class="hljs-built_in">min</span>/<span class="hljs-built_in">avg</span>/<span class="hljs-built_in">max</span>/stddev = <span class="hljs-number">0.269</span>/<span class="hljs-number">0.387</span>/<span class="hljs-number">0.478</span>/<span class="hljs-number">0.087</span> ms<br></code></pre>

</div><div id="wmd-preview-section-9657" class="wmd-preview-section preview-content"></div><div id="wmd-preview-section-footnotes" class="preview-content"></div></div></body></html>